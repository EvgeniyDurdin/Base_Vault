## Использование временного имени таблицы (алиаса)
Чтобы не писать название таблицы каждый раз, удобно использовать алиасы.
Алиас, это псевдоним, который мы присваивали столбцам после ключевого слова `AS`.  Алиасы так же можно использовать и для таблиц. Это становится актуальным, при увеличении числа используемых таблиц, их иногда может быть и 5 и 10 и более. Псевдонимы помогают сделать запрос чище и читабельнее.
Для присваивания псевдонима существует 2 варианта: 
-   с использованием ключевого слова `AS` 
```sql
FROM fine AS f, traffic_violation AS tv
```
-   а так же и без него
```sql
FROM fine f, traffic_violation tv
```
После присвоения таблице алиаса, он используется во всех разделах запроса, в котором алиас задан. Например:
```
WHERE f.violation = tv.violation
```
**Пример**
Для тех, кто уже оплатил штраф, вывести информацию о том, изменялась ли стандартная сумма штрафа.
_Запрос:_
```sql
SELECT  f.name, f.number_plate, f.violation, 
   if(
    f.sum_fine = tv.sum_fine, "Стандартная сумма штрафа", 
    if(
      f.sum_fine < tv.sum_fine, "Уменьшенная сумма штрафа", "Увеличенная сумма штрафа"
    )
  ) AS description               
FROM  fine f, traffic_violation tv
WHERE tv.violation = f.violation and f.sum_fine IS NOT Null;
```
_Результат:_ 
```sql
+---------------+--------------+----------------------------------+--------------------------+
| name          | number_plate | violation                        | description              |
+---------------+--------------+----------------------------------+--------------------------+
| Баранов П.Е.  | Р523ВТ       | Превышение скорости(от 40 до 60) | Уменьшенная сумма штрафа |
| Абрамова К.А. | О111АВ       | Проезд на запрещающий сигнал     | Стандартная сумма штрафа |
| Яковлев Г.Р.  | Т330ТТ       | Превышение скорости(от 20 до 40) | Стандартная сумма штрафа |
+---------------+--------------+----------------------------------+--------------------------+
```


## Группировка данных по нескольким столбцам
В разделе `GROUP BY` можно указывать несколько столбцов, разделяя их запятыми. Тогда к одной группе будут относиться записи, у которых значения столбцов, входящих в группу, равны. Рассмотрим группировку по нескольким столбцам на примере следующего запроса:
```sql
SELECT name, number_plate, violation, count(*)
FROM fine
GROUP BY name, number_plate, violation;
```
1. Сначала записи таблицы  **`fine`** разделяются на группы. В каждую группу включаются строки, у которых равны значения в столбцах **name**, **number_plate** и **violation**  соответственно. Получается 6 групп.
![[Stepic_IntTr_1.7.1.png]]
2. Затем вычисляется функция `count(*)`, которая определяет количество записей в каждой группе. Получается, что к первым двум группам относятся по две записи, ко всем остальным - по одной.
![[Stepic_IntTr_1.7.2.png]]
**Важно!** В разделе `GROUP BY` нужно перечислять все НЕАГРЕГИРОВАННЫЕ столбцы (к которым не применяются групповые функции) из `SELECT`.


